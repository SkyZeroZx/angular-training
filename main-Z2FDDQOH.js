import{a as R}from"./chunk-4IMAQ47F.js";import{a as b,b as M}from"./chunk-B7HJQSDU.js";import{B as re,C as oe,a as ee,t as te}from"./chunk-QYIZJI65.js";import"./chunk-MCXVDXJG.js";import"./chunk-WXI33M2S.js";import{d as W,f as v,g as Y,h as Z,i as G,j as J,k as K,l as Q,m as q,o as C,p as w,r as x}from"./chunk-XLQTZZ7I.js";import{d as V,v as X}from"./chunk-W2DD5W2M.js";import{$ as s,$a as L,Ca as F,Eb as U,F as D,Ma as P,N as A,Ob as $,Va as T,Wa as N,Xa as k,Y as O,Za as H,aa as h,bb as _,cb as z,ea as c,fa as u,la as d,ma as f,ob as B,pa as j,q as S,xb as g,yb as y,zb as l}from"./chunk-ELWWLAA3.js";var ie=(()=>{let e=class e{constructor(t){this.loader=t}intercept(t,r){return t.context.get(b)===!0?r.handle(t):(this.loader.showLoader(),r.handle(t).pipe(A(()=>{this.loader.hideLoader()})))}};e.\u0275fac=function(r){return new(r||e)(c(ee))},e.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var ne=(()=>{let e=class e{constructor(t,r){this.toastService=t,this.router=r}intercept(t,r){return r.handle(t).pipe(D(n=>{let a="",m=t.context.get(b)===!0;return n instanceof W&&(a=`Error Status ${n.status}: ${n.statusText} - ${n.error}`,this.mappedErrorHttp(n)),m||(console.error(a||n),this.toastService.error({title:"Error",message:`${n.error.message||n.error||M}`})),a?S(()=>new Error(a)):S(()=>new Error(M))}))}mappedErrorHttp(t){let{status:r}=t;r===403&&this.router.navigate(["/auth/login"])}};e.\u0275fac=function(r){return new(r||e)(c(re),c(w))},e.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var ae=(()=>{let e=class e{constructor(){this.authService=u(R)}intercept(t,r){let n=this.authService.getTokenStore();return n&&(t=t.clone({setHeaders:{authorization:`Bearer ${n}`}})),r.handle(t)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var se=[{provide:v,useClass:ae,multi:!0},{provide:v,useClass:ne,multi:!0},{provide:v,useClass:ie,multi:!0}];var ve="@",be=(()=>{let e=class e{constructor(t,r,n,a,m){this.doc=t,this.delegate=r,this.zone=n,this.animationType=a,this.moduleImpl=m,this._rendererFactoryPromise=null,this.scheduler=u(H,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-ZIF2GISS.js")).catch(r=>{throw new O(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:n})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let a=new n(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,r){let n=this.delegate.createRenderer(t,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let a=new I(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(m=>{let ye=m.createRenderer(t,r);a.use(ye)}).catch(m=>{a.use(n)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){k()},e.\u0275prov=s({token:e,factory:e.\u0275fac});let o=e;return o})(),I=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,t,r){this.delegate.insertBefore(e,i,t,r)}removeChild(e,i,t){this.delegate.removeChild(e,i,t)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,t,r){this.delegate.setAttribute(e,i,t,r)}removeAttribute(e,i,t){this.delegate.removeAttribute(e,i,t)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,t,r){this.delegate.setStyle(e,i,t,r)}removeStyle(e,i,t){this.delegate.removeStyle(e,i,t)}setProperty(e,i,t){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,t)),this.delegate.setProperty(e,i,t)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,t){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,t)),this.delegate.listen(e,i,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(ve)}};function pe(o="animations"){return _("NgAsyncAnimations"),j([{provide:L,useFactory:(e,i,t)=>new be(e,i,t,o),deps:[V,J,z]},{provide:P,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=d({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(r,n){r&1&&l(0,"router-outlet")(1,"app-spinner")},dependencies:[te,C],changeDetection:0});let o=e;return o})();var le=(()=>{let e=class e{constructor(t){this.authService=t,this.user=this.authService.authUser}logOut(){this.authService.logOut()}};e.\u0275fac=function(r){return new(r||e)(N(R))},e.\u0275cmp=d({type:e,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"navbar"],[1,"navbar__logo"],["ngSrc","https://upload.wikimedia.org/wikipedia/commons/c/cf/Angular_full_color_logo.svg","height","80","width","80","alt","logo"],[1,"navbar__user-options"],[1,"dropdown-button"],[1,"dropdown-content"],[1,"flex","flex-row","items-center","gap-3",3,"click"],[1,"icon-[tabler--logout]",2,"color","black","width","1.5rem","height","1.5rem"]],template:function(r,n){r&1&&(g(0,"nav",0)(1,"div",1),l(2,"img",2),y(),g(3,"div",3)(4,"button",4)(5,"div",5)(6,"div",6),U("click",function(){return n.logOut()}),g(7,"p"),$(8,"Salir"),y(),l(9,"span",7),y()()()()()),r&2&&(T(4),B("data-info",n.user().username))},dependencies:[X],styles:[".navbar[_ngcontent-%COMP%]{display:flex;padding:1.2rem;box-shadow:0 5px 10px #aaa;width:100%;background:#fff;color:#000;opacity:.85;z-index:100;justify-content:space-between}.navbar__logo[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px;align-items:center;justify-content:center}.navbar__user-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:1rem;font-weight:600;gap:1rem}@media (max-width: 768px){.navbar__logo[_ngcontent-%COMP%]{display:block;position:relative;height:64px}}.dropdown-button[_ngcontent-%COMP%]:before{content:attr(data-info)!important;font-size:1rem;font-weight:600}.dropdown-content[_ngcontent-%COMP%]{right:10px;padding:1rem}"],changeDetection:0});let o=e;return o})();var me=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=d({type:e,selectors:[["app-content"]],decls:2,vars:0,template:function(r,n){r&1&&l(0,"app-header")(1,"router-outlet")},dependencies:[C,le],changeDetection:0});let o=e;return o})();var de=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f({type:e}),e.\u0275inj=h({imports:[x]});let o=e;return o})();var he=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-ZWZ2SOEE.js").then(o=>o.AuthModule)},{path:"product",component:me,children:[{path:"",loadChildren:()=>import("./chunk-LJWCGXTO.js").then(o=>o.ProductModule)}]},{path:"error",loadChildren:()=>import("./chunk-WCGC36JJ.js").then(o=>o.ErrorModule)},{path:"**",redirectTo:"error",pathMatch:"full"}];var ue=(()=>{let e=class e{constructor(t){this.router=t}handleError(t){let r=this.router.url;console.error(`ROUTE ERROR ${r}`),console.error(e.name,t)}};e.\u0275fac=function(r){return new(r||e)(c(w))},e.\u0275prov=s({token:e,factory:e.\u0275fac});let o=e;return o})();var fe=[{provide:F,useClass:ue}];var ge=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=f({type:e,bootstrap:[ce]}),e.\u0275inj=h({providers:[...se,...fe,q(),Y(G(),Z()),pe()],imports:[de,Q,oe,x.forRoot(he,{initialNavigation:"enabledBlocking",useHash:!0})]});let o=e;return o})();K().bootstrapModule(ge).catch(o=>console.error(o));
