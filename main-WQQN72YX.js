import{a as R}from"./chunk-I4JZ4OZO.js";import{a as C,b as M}from"./chunk-AYAYEPGU.js";import{A as oe,a as ee,t as te,z as re}from"./chunk-7FKMJB2O.js";import"./chunk-MZIHDHKH.js";import"./chunk-WXI33M2S.js";import{d as W,f as v,g as Y,h as Z,i as G,j as J,k as K,l as Q,m as q,o as b,p as w,r as x}from"./chunk-TSC7LLWG.js";import{d as V,u as X}from"./chunk-E453JAQM.js";import{$ as p,C as D,Db as $,Ga as F,K as O,Pa as T,Qa as N,Ra as k,Sa as H,T as A,Ua as _,W as s,Wa as L,X as f,Xa as z,aa as g,fa as d,ga as y,hb as B,ja as j,o as S,pb as h,qb as u,rb as c,wa as P,wb as U}from"./chunk-4D2YIMKC.js";var ie=(()=>{let e=class e{constructor(t){this.loader=t}intercept(t,r){return t.context.get(C)===!0?r.handle(t):(this.loader.showLoader(),r.handle(t).pipe(O(()=>{this.loader.hideLoader()})))}};e.\u0275fac=function(r){return new(r||e)(p(ee))},e.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var ne=(()=>{let e=class e{constructor(t,r){this.toastService=t,this.router=r}intercept(t,r){return r.handle(t).pipe(D(n=>{let a="",m=t.context.get(C)===!0;return n instanceof W&&(a=`Error Status ${n.status}: ${n.statusText} - ${n.error}`,this.mappedErrorHttp(n)),m||(console.error(a||n),this.toastService.error({title:"Error",message:`${n.error.message||n.error||M}`})),a?S(()=>new Error(a)):S(()=>new Error(M))}))}mappedErrorHttp(t){let{status:r}=t;r===403&&this.router.navigate(["/auth/login"])}};e.\u0275fac=function(r){return new(r||e)(p(re),p(w))},e.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var ae=(()=>{let e=class e{constructor(){this.authService=g(R)}intercept(t,r){let n=this.authService.getTokenStore();return n&&(t=t.clone({setHeaders:{authorization:`Bearer ${n}`}})),r.handle(t)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var se=[{provide:v,useClass:ae,multi:!0},{provide:v,useClass:ne,multi:!0},{provide:v,useClass:ie,multi:!0}];var ve="@",Ce=(()=>{let e=class e{constructor(t,r,n,a,m){this.doc=t,this.delegate=r,this.zone=n,this.animationType=a,this.moduleImpl=m,this._rendererFactoryPromise=null,this.scheduler=g(H,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-VMTZGEOP.js")).catch(r=>{throw new A(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:n})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let a=new n(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,r){let n=this.delegate.createRenderer(t,r);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let a=new I(n);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(m=>{let ye=m.createRenderer(t,r);a.use(ye)}).catch(m=>{a.use(n)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){k()},e.\u0275prov=s({token:e,factory:e.\u0275fac});let o=e;return o})(),I=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,t,r){this.delegate.insertBefore(e,i,t,r)}removeChild(e,i,t){this.delegate.removeChild(e,i,t)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,t,r){this.delegate.setAttribute(e,i,t,r)}removeAttribute(e,i,t){this.delegate.removeAttribute(e,i,t)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,t,r){this.delegate.setStyle(e,i,t,r)}removeStyle(e,i,t){this.delegate.removeStyle(e,i,t)}setProperty(e,i,t){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,t)),this.delegate.setProperty(e,i,t)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,t){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,t)),this.delegate.listen(e,i,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(ve)}};function le(o="animations"){return L("NgAsyncAnimations"),j([{provide:_,useFactory:(e,i,t)=>new Ce(e,i,t,o),deps:[V,J,z]},{provide:F,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=d({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(r,n){r&1&&c(0,"router-outlet")(1,"app-spinner")},dependencies:[te,b],changeDetection:0});let o=e;return o})();var pe=(()=>{let e=class e{constructor(t){this.authService=t,this.user=this.authService.authUser}logOut(){this.authService.logOut()}};e.\u0275fac=function(r){return new(r||e)(N(R))},e.\u0275cmp=d({type:e,selectors:[["app-header"]],decls:10,vars:1,consts:[[1,"navbar"],[1,"navbar__logo"],["ngSrc","https://upload.wikimedia.org/wikipedia/commons/c/cf/Angular_full_color_logo.svg","height","80","width","80","alt","logo"],[1,"navbar__user-options"],[1,"dropdown-button"],[1,"dropdown-content"],[1,"flex","flex-row","items-center","gap-3",3,"click"],[1,"icon-[tabler--logout]",2,"color","black","width","1.5rem","height","1.5rem"]],template:function(r,n){r&1&&(h(0,"nav",0)(1,"div",1),c(2,"img",2),u(),h(3,"div",3)(4,"button",4)(5,"div",5)(6,"div",6),U("click",function(){return n.logOut()}),h(7,"p"),$(8,"Salir"),u(),c(9,"span",7),u()()()()()),r&2&&(T(4),B("data-info",n.user().username))},dependencies:[X],styles:[".navbar[_ngcontent-%COMP%]{display:flex;padding:1.2rem;box-shadow:0 5px 10px #aaa;width:100%;background:#fff;color:#000;opacity:.85;z-index:100;justify-content:space-between}.navbar__logo[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px;align-items:center;justify-content:center}.navbar__user-options[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:1rem;font-weight:600;gap:1rem}@media (max-width: 768px){.navbar__logo[_ngcontent-%COMP%]{display:block;position:relative;height:64px}}.dropdown-button[_ngcontent-%COMP%]:before{content:attr(data-info)!important;font-size:1rem;font-weight:600}.dropdown-content[_ngcontent-%COMP%]{right:10px;padding:1rem}"],changeDetection:0});let o=e;return o})();var me=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=d({type:e,selectors:[["app-content"]],decls:3,vars:0,consts:[[1,"layout-content"]],template:function(r,n){r&1&&(c(0,"app-header"),h(1,"div",0),c(2,"router-outlet"),u())},dependencies:[b,pe],styles:[".layout-content[_ngcontent-%COMP%]{min-height:calc(80vh - 50px);display:flex;justify-content:center}"],changeDetection:0});let o=e;return o})();var de=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=y({type:e}),e.\u0275inj=f({imports:[x]});let o=e;return o})();var he=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-RXT7E4FD.js").then(o=>o.AuthModule)},{path:"product",component:me,children:[{path:"",loadChildren:()=>import("./chunk-ALJ66JUZ.js").then(o=>o.ProductModule)}]},{path:"error",loadChildren:()=>import("./chunk-S5SIH2EP.js").then(o=>o.ErrorModule)},{path:"**",redirectTo:"error",pathMatch:"full"}];var ue=(()=>{let e=class e{constructor(t){this.router=t}handleError(t){let r=this.router.url;console.error(`ROUTE ERROR ${r}`),console.error(e.name,t)}};e.\u0275fac=function(r){return new(r||e)(p(w))},e.\u0275prov=s({token:e,factory:e.\u0275fac});let o=e;return o})();var fe=[{provide:P,useClass:ue}];var ge=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=y({type:e,bootstrap:[ce]}),e.\u0275inj=f({providers:[...se,...fe,q(),Y(G(),Z()),le()],imports:[de,Q,oe,x.forRoot(he,{initialNavigation:"enabledBlocking",useHash:!0})]});let o=e;return o})();K().bootstrapModule(ge).catch(o=>console.error(o));
