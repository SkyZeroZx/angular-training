import{a as Be,c as We}from"./chunk-B7HJQSDU.js";import{A as ii,B as K,D as oi,b as Ue,c as Ct,d as Ge,e as C,f as N,g as A,h as Y,i as L,j as $e,k as Q,l as He,m as Ze,n as qe,o as j,p as Ye,q as Qe,r as U,s as Ke,u as St,v as Xe,w as Je,x as z,y as ti,z as ei}from"./chunk-QYIZJI65.js";import{a as q}from"./chunk-MCXVDXJG.js";import"./chunk-WXI33M2S.js";import{a as Ot,c as je,e as ze,n as ri,p as ni,q as X,r as Vt}from"./chunk-XLQTZZ7I.js";import{d as it,n as Ve,o as Ne,r as Ae,s as Le}from"./chunk-W2DD5W2M.js";import{$ as b,A as dt,B as Kt,Bb as we,D as ut,E as ht,Eb as D,F as Xt,Fa as le,Fb as Ce,Ga as T,Gb as Se,H as Jt,Ha as de,Hb as be,Ib as ye,Jb as Ee,Kb as xe,La as gt,Lb as De,M as pt,Mb as Ie,Ob as m,Qb as y,R as te,Rb as V,Sa as vt,Sb as Re,T as ee,Tb as Tt,U as Pt,Ub as ke,V as mt,Va as u,W as H,Wa as a,Wb as Z,Xb as Pe,Ya as ue,Yb as wt,_ as et,a as ct,aa as R,b as $t,ca as k,cb as O,e as Ht,ea as _,eb as he,fa as P,fb as x,g as tt,ga as ie,gb as pe,ha as re,i as Zt,ib as _t,j as E,jb as me,ka as ft,l as qt,la as w,lc as Me,m as Yt,ma as M,mc as Fe,na as W,nb as fe,oa as ne,p as B,pb as g,q as Qt,qb as ge,r as lt,rb as ve,rc as Te,t as $,tc as Oe,ua as oe,ub as _e,va as se,vb as Mt,wa as ae,wb as Ft,xa as ce,xb as l,yb as c,zb as f}from"./chunk-ELWWLAA3.js";var si=(()=>{let e=class e{transform(t,i,n){if(!t?.length)return[];let o=(i-1)*n,d=i*n;return t.slice(o,d)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=ne({name:"pagination",type:e,pure:!0,standalone:!0});let r=e;return r})();function rt(r,e=0){return ji(r)?Number(r):e}function ji(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function ai(r){return r instanceof T?r.nativeElement:r}var Nt;try{Nt=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Nt=!1}var nt=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ae(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Nt)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(_(gt))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var I=function(r){return r[r.NORMAL=0]="NORMAL",r[r.NEGATED=1]="NEGATED",r[r.INVERTED=2]="INVERTED",r}(I||{}),bt,G;function ci(){if(G==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return G=!1,G;if("scrollBehavior"in document.documentElement.style)G=!0;else{let r=Element.prototype.scrollTo;r?G=!/\{\s*\[native code\]\s*\}/.test(r.toString()):G=!1}}return G}function J(){if(typeof document!="object"||!document)return I.NORMAL;if(bt==null){let r=document.createElement("div"),e=r.style;r.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let s=document.createElement("div"),t=s.style;t.width="2px",t.height="1px",r.appendChild(s),document.body.appendChild(r),bt=I.NORMAL,r.scrollLeft===0&&(r.scrollLeft=1,bt=r.scrollLeft===0?I.NEGATED:I.INVERTED),r.remove()}return bt}var Bi=new k("cdk-dir-doc",{providedIn:"root",factory:Wi});function Wi(){return P(it)}var Ui=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Gi(r){let e=r?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Ui.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ot=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new de,t){let i=t.body?t.body.dir:null,n=t.documentElement?t.documentElement.dir:null;this.value=Gi(i||n||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(_(Bi,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var At=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({});let r=e;return r})();var Lt=class{};function li(r){return r&&typeof r.connect=="function"&&!(r instanceof Zt)}var yt=class extends Lt{constructor(e){super(),this._data=e}connect(){return lt(this._data)?this._data:B(this._data)}disconnect(){}},st=function(r){return r[r.REPLACED=0]="REPLACED",r[r.INSERTED=1]="INSERTED",r[r.MOVED=2]="MOVED",r[r.REMOVED=3]="REMOVED",r}(st||{}),jt=new k("_ViewRepeater");var Et=class{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,s,t,i,n){e.forEachOperation((o,d,p)=>{let h,v;if(o.previousIndex==null){let kt=()=>t(o,d,p);h=this._insertView(kt,p,s,i(o)),v=h?st.INSERTED:st.REPLACED}else p==null?(this._detachAndCacheView(d,s),v=st.REMOVED):(h=this._moveView(d,p,s,i(o)),v=st.MOVED);n&&n({context:h?.context,operation:v,record:o})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,s,t,i){let n=this._insertViewFromCache(s,t);if(n){n.context.$implicit=i;return}let o=e();return t.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(e,s){let t=s.detach(e);this._maybeCacheView(t,s)}_moveView(e,s,t,i){let n=t.get(e);return t.move(n,s),n.context.$implicit=i,n}_maybeCacheView(e,s){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let t=s.indexOf(e);t===-1?e.destroy():s.remove(t)}}_insertViewFromCache(e,s){let t=this._viewCache.pop();return t&&s.insert(t,e),t||null}};var Hi=["contentWrapper"],Zi=["*"],hi=new k("VIRTUAL_SCROLL_STRATEGY"),zt=class{constructor(e,s,t){this._scrolledIndexChange=new E,this.scrolledIndexChange=this._scrolledIndexChange.pipe(pt()),this._viewport=null,this._itemSize=e,this._minBufferPx=s,this._maxBufferPx=t}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,s,t){t<s,this._itemSize=e,this._minBufferPx=s,this._maxBufferPx=t,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,s){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,s)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),s={start:e.start,end:e.end},t=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),n=this._viewport.measureScrollOffset(),o=this._itemSize>0?n/this._itemSize:0;if(s.end>i){let p=Math.ceil(t/this._itemSize),h=Math.max(0,Math.min(o,i-p));o!=h&&(o=h,n=h*this._itemSize,s.start=Math.floor(o)),s.end=Math.max(0,Math.min(i,s.start+p))}let d=n-s.start*this._itemSize;if(d<this._minBufferPx&&s.start!=0){let p=Math.ceil((this._maxBufferPx-d)/this._itemSize);s.start=Math.max(0,s.start-p),s.end=Math.min(i,Math.ceil(o+(t+this._minBufferPx)/this._itemSize))}else{let p=s.end*this._itemSize-(n+t);if(p<this._minBufferPx&&s.end!=i){let h=Math.ceil((this._maxBufferPx-p)/this._itemSize);h>0&&(s.end=Math.min(i,s.end+h),s.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(s),this._viewport.setRenderedContentOffset(this._itemSize*s.start),this._scrolledIndexChange.next(Math.floor(o))}};function qi(r){return r._scrollStrategy}var pi=(()=>{let e=class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new zt(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=rt(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=rt(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=rt(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=W({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[V([{provide:hi,useFactory:qi,deps:[et(()=>e)]}]),oe]});let r=e;return r})(),Yi=20,xt=(()=>{let e=class e{constructor(t,i,n){this._ngZone=t,this._platform=i,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Yi){return this._platform.isBrowser?new tt(i=>{this._globalSubscription||this._addGlobalListener();let n=t>0?this._scrolled.pipe(ht(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):B()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ut(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let n=ai(i),o=t.getElementRef().nativeElement;do if(n==o)return!0;while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return dt(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(_(O),_(nt),_(it,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),mi=(()=>{let e=class e{constructor(t,i,n,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=n,this.dir=o,this._destroyed=new E,this._elementScrolled=new tt(d=>this.ngZone.runOutsideAngular(()=>dt(this.elementRef.nativeElement,"scroll").pipe(H(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=n?t.end:t.start),t.right==null&&(t.right=n?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),n&&J()!=I.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),J()==I.INVERTED?t.left=t.right:J()==I.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;ci()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",n="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let d=this.dir&&this.dir.value=="rtl";return t=="start"?t=d?n:i:t=="end"&&(t=d?i:n),d&&J()==I.INVERTED?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:d&&J()==I.NEGATED?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}};e.\u0275fac=function(i){return new(i||e)(a(T),a(xt),a(O),a(ot,8))},e.\u0275dir=W({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let r=e;return r})(),Qi=20,Ki=(()=>{let e=class e{constructor(t,i,n){this._platform=t,this._change=new E,this._changeListener=o=>{this._change.next(o)},this._document=n,i.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),n=t.documentElement,o=n.getBoundingClientRect(),d=-o.top||t.body.scrollTop||i.scrollY||n.scrollTop||0,p=-o.left||t.body.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:d,left:p}}change(t=Qi){return t>0?this._change.pipe(ht(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(_(nt),_(O),_(it,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),Bt=new k("VIRTUAL_SCROLLABLE"),fi=(()=>{let e=class e extends mi{constructor(t,i,n,o){super(t,i,n,o)}measureViewportSize(t){let i=this.elementRef.nativeElement;return t==="horizontal"?i.clientWidth:i.clientHeight}};e.\u0275fac=function(i){return new(i||e)(a(T),a(xt),a(O),a(ot,8))},e.\u0275dir=W({type:e,features:[_t]});let r=e;return r})();function Xi(r,e){return r.start==e.start&&r.end==e.end}var Ji=typeof requestAnimationFrame<"u"?Yt:qt,Wt=(()=>{let e=class e extends fi{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}constructor(t,i,n,o,d,p,h,v){super(t,p,n,d),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=P(nt),this._detachedSubject=new E,this._renderedRangeSubject=new E,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new tt(kt=>this._scrollStrategy.scrolledIndexChange.subscribe(Ai=>Promise.resolve().then(()=>this.ngZone.run(()=>kt.next(Ai))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ht.EMPTY,this._viewportChanges=h.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Pt(null),ht(0,Ji),H(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(H(this._detachedSubject)).subscribe(i=>{let n=i.length;n!==this._dataLength&&(this._dataLength=n,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){Xi(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&i==="to-start"?0:t;let n=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",d=o?"X":"Y",h=`translate${d}(${Number((o&&n?-1:1)*t)}px)`;this._renderedContentOffset=t,i==="to-end"&&(h+=` translate${d}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){let n={behavior:i};this.orientation==="horizontal"?n.start=t:n.top=t,this.scrollable.scrollTo(n)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return this.scrollable==this?i=n=>super.measureScrollOffset(n):i=n=>this.scrollable.measureScrollOffset(n),Math.max(0,i(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i,n="left",o="right",d=this.dir?.value=="rtl";t=="start"?i=d?o:n:t=="end"?i=d?n:o:t?i=t:i=this.orientation==="horizontal"?"left":"top";let p=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-p}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let i of t)i()}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}};e.\u0275fac=function(i){return new(i||e)(a(T),a(Me),a(O),a(hi,8),a(ot,8),a(xt),a(Ki),a(Bt,8))},e.\u0275cmp=w({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,n){if(i&1&&ye(Hi,7),i&2){let o;Ee(o=xe())&&(n._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,n){i&2&&ve("cdk-virtual-scroll-orientation-horizontal",n.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",n.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[ft.HasDecoratorInputTransform,"appendOnly","appendOnly",Te]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[V([{provide:mi,useFactory:(t,i)=>t||i,deps:[[new re,new ie(Bt)],e]}]),me,_t,Re],ngContentSelectors:Zi,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(i,n){i&1&&(Se(),l(0,"div",1,0),be(2),c(),f(3,"div",2)),i&2&&(u(3),ge("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0});let r=e;return r})();function di(r,e,s){let t=s;if(!t.getBoundingClientRect)return 0;let i=t.getBoundingClientRect();return r==="horizontal"?e==="start"?i.left:i.right:e==="start"?i.top:i.bottom}var gi=(()=>{let e=class e{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,li(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new yt(lt(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,n)=>t(i+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=rt(t)}constructor(t,i,n,o,d,p){this._viewContainerRef=t,this._template=i,this._differs=n,this._viewRepeater=o,this._viewport=d,this.viewChange=new E,this._dataSourceChanges=new E,this.dataStream=this._dataSourceChanges.pipe(Pt(null),te(),mt(([h,v])=>this._changeDataSource(h,v)),ee(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new E,this.dataStream.subscribe(h=>{this._data=h,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(H(this._destroyed)).subscribe(h=>{this._renderedRange=h,this.viewChange.observers.length&&p.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,i){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||t.end>this._renderedRange.end;let n=t.start-this._renderedRange.start,o=t.end-t.start,d,p;for(let h=0;h<o;h++){let v=this._viewContainerRef.get(h+n);if(v&&v.rootNodes.length){d=p=v.rootNodes[0];break}}for(let h=o-1;h>-1;h--){let v=this._viewContainerRef.get(h+n);if(v&&v.rootNodes.length){p=v.rootNodes[v.rootNodes.length-1];break}}return d&&p?di(i,"end",p)-di(i,"start",d):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):B()}_updateContext(){let t=this._data.length,i=this._viewContainerRef.length;for(;i--;){let n=this._viewContainerRef.get(i);n.context.index=this._renderedRange.start+i,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,d,p)=>this._getEmbeddedViewArgs(o,p),o=>o.item),t.forEachIdentityChange(o=>{let d=this._viewContainerRef.get(o.currentIndex);d.context.$implicit=o.item});let i=this._data.length,n=this._viewContainerRef.length;for(;n--;){let o=this._viewContainerRef.get(n);o.context.index=this._renderedRange.start+n,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=t.index===0,t.last=t.index===t.count-1,t.even=t.index%2===0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}};e.\u0275fac=function(i){return new(i||e)(a(he),a(ue),a(Fe),a(jt),a(Wt,4),a(O))},e.\u0275dir=W({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[V([{provide:jt,useClass:Et}])]});let r=e;return r})();var vi=(()=>{let e=class e extends fi{constructor(t,i,n){super(new T(document.documentElement),t,i,n),this._elementScrolled=new tt(o=>this.ngZone.runOutsideAngular(()=>dt(document,"scroll").pipe(H(this._destroyed)).subscribe(o)))}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}};e.\u0275fac=function(i){return new(i||e)(a(xt),a(O),a(ot,8))},e.\u0275dir=W({type:e,selectors:[["cdk-virtual-scroll-viewport","scrollWindow",""]],standalone:!0,features:[V([{provide:Bt,useExisting:e}]),_t]});let r=e;return r})(),ui=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({});let r=e;return r})(),_i=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({imports:[At,ui,At,ui]});let r=e;return r})();var F=(()=>{let e=class e{constructor(t){this.http=t,this.base=`${oi.API_URL}/auth`}get(t){let i=new Ot;return i=i.set("search",t.search),i=i.set("limit",t.limit),i=i.set("skip",t.skip),this.http.get(`${this.base}/products/search`,{params:i}).pipe($(n=>({metadata:{limit:n.limit,skip:n.skip,total:n.total},data:n.products})))}create(t){return this.http.post(`${this.base}/products/add`,t)}update(t,i){return delete i.id,this.http.put(`${this.base}/products/${t}`,ct({},i))}delete(t){let i=new Ot;return i=i.set("id",t),this.http.delete(`${this.base}/products`,{params:i,responseType:"text"})}findById(t){return this.http.get(`${this.base}/products/${t}`,{context:new je().set(Be,!0)}).pipe(Xt(i=>(console.log(i.message),i?.message?.includes("Status 404")?(console.log(i.message),B(null)):Qt(()=>i))))}};e.\u0275fac=function(i){return new(i||e)(_(ze))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var It=class{static productAlreadyExist(e){return s=>Kt(200).pipe(mt(()=>e.findById(s.value.id).pipe($(t=>t?{alreadyExist:!0}:null))))}};var er=()=>({alreadyExist:"Ya fue registrado previamente este producto"}),ir=()=>({minlength:"Titulo requiere minimo 5 caracteres"}),Rt=(()=>{let e=class e{constructor(t){this.fb=t}ngOnInit(){this.initCreateForm()}initCreateForm(){this.productForm=this.fb.group({id:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.minLength(3),C.maxLength(10)]}),description:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.minLength(5),C.maxLength(255)]}),title:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.minLength(5),C.maxLength(100)]}),price:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.min(1),C.max(200)]}),category:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.minLength(5),C.maxLength(100)]})})}registerOnChange(t){this.productForm.valueChanges.subscribe(t)}registerOnTouched(t){this.productForm.valueChanges.subscribe(t)}registerOnValidatorChange(t){this.productForm.valueChanges.subscribe(t)}setDisabledState(t){t?this.productForm.disable():this.productForm.enable()}writeValue(t){this.productForm.patchValue(t,{emitEvent:!1})}get invalid(){return this.productForm.invalid}validate(t){return this.productForm.valid?null:{address:!0}}};e.\u0275fac=function(i){return new(i||e)(a(j))},e.\u0275cmp=w({type:e,selectors:[["app-product-form"]],features:[V([{provide:Ue,useExisting:et(()=>e),multi:!0},{provide:Ge,useExisting:et(()=>e),multi:!0}])],decls:24,vars:5,consts:[[1,"product__form",3,"formGroup"],[1,"product__form__group"],[1,"product__form__group__input-group"],["for","id"],["type","text","placeholder","ID","formControlName","id","maxlength","10",3,"customErrors"],["for","title"],["type","text","placeholder","Titulo","formControlName","title","maxlength","100",3,"customErrors"],["for","description"],["type","text","placeholder","Descripci\xF3n","formControlName","description","maxlength","200",1,"form-control"],["for","logo"],["type","number","placeholder","Precio","formControlName","price",1,"form-control"],["for","date_release"],["type","text","placeholder","Categoria","formControlName","category",1,"form-control"]],template:function(i,n){i&1&&(l(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),m(4,"ID"),c(),f(5,"input",4),c(),l(6,"div",2)(7,"label",5),m(8,"Titulo"),c(),f(9,"input",6),c()(),l(10,"div",2)(11,"div",2)(12,"label",7),m(13,"Descripci\xF3n"),c(),f(14,"input",8),c(),l(15,"div",2)(16,"label",9),m(17,"Precio"),c(),f(18,"input",10),c()(),l(19,"div",2)(20,"div",2)(21,"label",11),m(22,"Categoria"),c(),f(23,"input",12),c()()()),i&2&&(g("formGroup",n.productForm),u(5),g("customErrors",Tt(3,er)),u(4),g("customErrors",Tt(4,ir)))},dependencies:[L,Ct,$e,N,A,qe,He,Ze,z],styles:[".product[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:4rem}.product__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.product__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.product__form__group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2rem}.product__form__group__input-group[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:.5rem}.product__form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:2rem;gap:1rem}.product__form__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;min-height:40px;padding:.5rem}.is-loading[_ngcontent-%COMP%]{padding-right:36px;background-image:url(/assets/svg/spinner.svg);background-repeat:no-repeat;background-position:right 8px center}"],changeDetection:0});let r=e;return r})();var yi=(()=>{let e=class e{constructor(t,i,n){this.fb=t,this.productService=i,this.toastService=n,this.createProductForm=this.fb.control(null,{asyncValidators:It.productAlreadyExist(this.productService)})}create(){let t=this.createProductForm.getRawValue();this.productService.create(t).subscribe({next:()=>{this.toastService.success({title:"Exito",message:"Se creo nuevo producto exitosamente"})}})}};e.\u0275fac=function(i){return new(i||e)(a(j),a(F),a(K))},e.\u0275cmp=w({type:e,selectors:[["app-create-product"]],decls:11,vars:2,consts:[[1,"create-product"],[1,"create-product__title"],[1,"w-full"],[3,"formControl"],[1,"create-product__actions"],["btn","","variant","secondary","type","button","routerLink","/product","data-test","btn-back"],["btn","","type","button",3,"click","disabled"]],template:function(i,n){i&1&&(l(0,"main",0)(1,"h1",1),m(2,"Formulario de Registro"),c(),f(3,"hr",2),l(4,"form"),f(5,"app-product-form",3),c(),l(6,"div",4)(7,"button",5),m(8," Atras "),c(),l(9,"button",6),D("click",function(){return n.create()}),m(10," Enviar "),c()()()),i&2&&(u(5),g("formControl",n.createProductForm),u(4),g("disabled",n.createProductForm.invalid))},dependencies:[q,X,L,N,A,Y,Q,z,Rt],styles:[".create-product[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:4rem}.create-product__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.create-product__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:2rem;gap:1rem}.create-product__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;min-height:40px;padding:.5rem}.is-loading[_ngcontent-%COMP%]{padding-right:36px;background-image:url(/assets/svg/spinner.svg);background-repeat:no-repeat;background-position:right 8px center}"],changeDetection:0});let r=e;return r})();function Ei(r=200){return function(e){return e.pipe(Jt(r),pt())}}var xi=(()=>{let e=class e{constructor(){this._initialData=x([]),this.dataFilter=x([])}setInitialData(t){this._initialData.set(t)}filterData(t,i){return t?(this.dataFilter.set([...this._initialData()]),t=t.toLowerCase().trim(),this.dataFilter().filter(n=>i.some(o=>n[o]?.toString().toLowerCase()?.includes(t)))):this._initialData()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var sr=(r,e)=>e.id,ar=r=>["update",r];function cr(r,e){if(r&1&&(l(0,"th",6),m(1),c()),r&2){let s=e.$implicit;u(),y(" ",s," ")}}function lr(r,e){if(r&1){let s=we();l(0,"tr",7)(1,"td",10),f(2,"img",11),c(),l(3,"td",12),m(4),c(),l(5,"td",13),m(6),c(),l(7,"td",14),m(8),c(),l(9,"td",15),m(10),Z(11,"date"),c(),l(12,"td",16),m(13),Z(14,"date"),c(),l(15,"td",17)(16,"div",18)(17,"button",19)(18,"div",20),f(19,"span",21),l(20,"span",22),D("confirm",function(){let i=se(s).$implicit,n=Ce();return ae(n.confirmDelete(i.id))}),c()()()()()()}if(r&2){let s=e.$implicit;u(2),g("src",s.thumbnail,vt)("alt",s.title),u(2),y(" ",s.id," "),u(2),y(" ",s.title," "),u(2),y(" ",s.description," "),u(2),y(" ",wt(11,9,s.meta.createdAt,"YYYY/MM/dd","+0000")," "),u(3),y(" ",wt(14,13,s.meta.updatedAt,"YYYY/MM/dd","+0000")," "),u(6),g("routerLink",ke(17,ar,s.id)),u(),g("message","\xBFEsta seguro de eliminar el producto "+s.title+" ?")}}var Di=(()=>{let e=class e{constructor(t,i,n,o){this.productService=t,this.filterService=i,this.fb=n,this.toastService=o,this.filter=this.fb.control("",{nonNullable:!0}),this.listProduct=x([]),this.displayedColumns=["","","Nombre","Descripci\xF3n","Creacion","Actualizaci\xF3n",""],this.filterColumns=["id","title","description"],this.pagination=pe(U),this.paginationOptions=x({limit:100,skip:0,search:""})}ngOnInit(){this.getInitialProducts(),this.onChangeFilter()}getInitialProducts(){this.productService.get(this.paginationOptions()).subscribe({next:({data:t})=>{this.filterService.setInitialData(t),this.listProduct.set(t)}})}onChangeFilter(){this.filter.valueChanges.pipe(Ei()).subscribe(t=>{let i=this.filterService.filterData(t,this.filterColumns);this.listProduct.set(i),this.pagination().currentPage.set(1)})}confirmDelete(t){this.productService.delete(t).subscribe({next:()=>{this.getInitialProducts(),this.toastService.success({title:"Exito",message:"Se elimino el producto de manera exitosa"})}})}};e.\u0275fac=function(i){return new(i||e)(a(F),a(xi),a(j),a(K))},e.\u0275cmp=w({type:e,selectors:[["app-list-product"]],viewQuery:function(i,n){i&1&&De(n.pagination,U,5),i&2&&Ie()},decls:16,vars:8,consts:[[1,"p-10"],[1,"search-form"],["data-test","input-search-product","type","search","aria-label","search","placeholder","Buscar",1,"search-form__input",3,"formControl"],["btn","","type","button","routerLink","create","data-test","btn-add",1,"search-form__add"],[1,"icon","icon-plus"],[1,"rwd-table"],["data-test","table-column"],["tabindex","0"],[1,"product-paginator"],["firstLastButtons","",3,"pageSize","collectionSize","maxSize"],["data-th","Logo"],["height","100","width","100",3,"src","alt"],["data-th","ID"],["data-th","Nombre"],["data-th","Descripcion"],["data-th","Fecha Craci\xF3n"],["data-th","Fecha Actualizaci\xF3n"],["data-th","Acciones",1,"table-actions"],[1,"dropdown"],["tabindex","-1","data-test","btn-dropdown","type","button","aria-label","dropdown-options",1,"dropdown-button"],["data-test","dropdown-content",1,"dropdown-content"],["tabindex","0","role","button","data-test","btn-edit",1,"icon","icon-[tabler--pencil]",2,"height","1.25rem","width","1.25rem",3,"routerLink"],["tabindex","0","role","button","data-test","btn-delete","appConfirmDialog","","title","Eliminar Registro","cancelButtonText","Cancelar","confirmButtonText","Confirmar",1,"icon","icon-[tabler--letter-x]",2,"height","1.25rem","width","1.25rem",3,"confirm","message"]],template:function(i,n){if(i&1&&(l(0,"main",0)(1,"form",1),f(2,"input",2),l(3,"button",3),f(4,"span",4),m(5,"Agregar "),c()(),l(6,"table",5)(7,"tbody")(8,"tr"),Mt(9,cr,2,1,"th",6,_e),c(),Mt(11,lr,21,19,"tr",7,sr),Z(13,"pagination"),c()(),l(14,"div",8),f(15,"app-pagination",9),c()()),i&2){let o;u(2),g("formControl",n.filter),u(7),Ft(n.displayedColumns),u(2),Ft(wt(13,4,n.listProduct(),n.pagination().currentPage(),(o=n.pagination())==null?null:o.pageSize())),u(4),g("pageSize",5)("collectionSize",n.listProduct().length)("maxSize",2)}},dependencies:[St,q,X,Je,L,Ct,N,A,Y,Q,U,z,Ve,si],styles:[".search-form[_ngcontent-%COMP%]{margin:auto;width:95%;padding-bottom:2rem;min-width:30%;max-width:100%;display:flex;flex-direction:row;justify-content:space-between;gap:1rem}.search-form__input[_ngcontent-%COMP%]{width:80%}.search-form__add[_ngcontent-%COMP%]{width:20%}@media (width < 768px){.search-form[_ngcontent-%COMP%]{flex-direction:column}.search-form__input[_ngcontent-%COMP%]{width:100%}.search-form__add[_ngcontent-%COMP%]{min-height:2.25rem;width:100%}}.product-paginator[_ngcontent-%COMP%]{margin:auto;width:95%;min-width:300px;max-width:100%}"],changeDetection:0});let r=e;return r})();var Ii=(()=>{let e=class e{constructor(t,i,n,o){this.activatedRoute=t,this.fb=i,this.productService=n,this.toastService=o,this.updateProductForm=this.fb.control(null),this.product=Ke(this.activatedRoute.data.pipe($(d=>d.product)))}ngOnInit(){this.initUpdateForm(this.product())}initUpdateForm(t){this.updateProductForm.setValue(t)}update(){let t=this.updateProductForm.getRawValue();this.productService.update(t.id,t).subscribe({next:()=>{this.toastService.success({title:"Exito",message:"Se actualizo exitosamente el registro"})}})}};e.\u0275fac=function(i){return new(i||e)(a(ri),a(j),a(F),a(K))},e.\u0275cmp=w({type:e,selectors:[["app-update-product"]],decls:11,vars:2,consts:[[1,"update-product"],[1,"update-product___title"],[1,"w-full"],[3,"formControl"],[1,"update-product__actions"],["btn","","variant","secondary","type","button","routerLink","/product","data-test","btn-back"],["btn","","type","button",3,"click","disabled"]],template:function(i,n){i&1&&(l(0,"main",0)(1,"h1",1),m(2,"Editar Registro"),c(),f(3,"hr",2),l(4,"form"),f(5,"app-product-form",3),c(),l(6,"div",4)(7,"button",5),m(8," Atras "),c(),l(9,"button",6),D("click",function(){return n.update()}),m(10," Actualizar "),c()()()),i&2&&(u(5),g("formControl",n.updateProductForm),u(4),g("disabled",n.updateProductForm.invalid))},dependencies:[q,X,L,N,A,Y,Q,z,Rt],styles:[".update-product[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:4rem}.update-product__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.update-product__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:2rem;gap:1rem}.update-product__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;min-height:40px;padding:.5rem}"],changeDetection:0});let r=e;return r})();var Ri=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=w({type:e,selectors:[["app-product-detail"]],decls:3,vars:3,template:function(i,n){i&1&&(l(0,"div"),m(1),Z(2,"json"),c()),i&2&&(u(),y(" ",Pe(2,1,n.data)," "))},dependencies:[Ne],changeDetection:0});let r=e;return r})();var ki=new k("REQUEST"),so=new k("RESPONSE");var Pi=r=>["Android","MacIntel","Motorola","Nintendo","iPhone","iPad","iPod","Windows Phone","BlackBerry","Mobile"].some(s=>r?.includes(s));var at=(()=>{let e=class e{constructor(t,i){this.platformId=t,this.request=i,Le(this.platformId)?this.userAgent=this.request?.headers?.["user-agent"]||"":this.userAgent=navigator.userAgent}isMobile(){return Pi(this.userAgent)}};e.\u0275fac=function(i){return new(i||e)(_(gt),_(ki,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Mi=()=>P(at).isMobile(),Fi=()=>!P(at).isMobile();var Ti=(()=>{let e=class e{constructor(t,i){this.modalService=t,this.detectDevice=i,this.product=le.required()}showModal(){let i=this.detectDevice.isMobile()?"bottom-sheet":"dialog";this.modalService.open(Ri,{mode:i,data:this.product()})}};e.\u0275fac=function(i){return new(i||e)(a(ii),a(at))},e.\u0275cmp=w({type:e,selectors:[["app-product-item"]],inputs:{product:[ft.SignalBased,"product"]},decls:13,vars:4,consts:[["tabindex","0","role","button",1,"max-w-sm","bg-white","border","border-gray-200","rounded-lg","shadow",3,"click"],[1,"rounded-t-lg",3,"src","alt"],[1,"p-5"],[1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900"],[1,"mb-3","font-normal","text-gray-700"],["tabindex","0","role","button","role","button",1,"inline-flex","items-center","px-3","py-2","text-sm","font-medium","text-center","text-white","bg-blue-700","rounded-lg","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"rtl:rotate-180","w-3.5","h-3.5","ms-2"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 5h12m0 0L9 1m4 4L9 9"]],template:function(i,n){i&1&&(l(0,"div",0),D("click",function(){return n.showModal()}),l(1,"div"),f(2,"img",1),c(),l(3,"div",2)(4,"div")(5,"h5",3),m(6),c()(),l(7,"p",4),m(8),c(),l(9,"div",5),D("click",function(){return n.showModal()}),m(10," Ver m\xE1s "),ce(),l(11,"svg",6),f(12,"path",7),c()()()()),i&2&&(u(2),g("src",n.product().thumbnail,vt)("alt",n.product().title),u(4),y(" ",n.product().title," "),u(2),y(" ",n.product().description," "))},dependencies:[St],changeDetection:0});let r=e;return r})();function ur(r,e){if(r&1&&(l(0,"div")(1,"div",4),f(2,"app-product-item",5),c()()),r&2){let s=e.$implicit;u(2),g("product",s)}}var Oi=(()=>{let e=class e{constructor(t){this.productService=t,this.products=x([]),this.metadataPagination=x(null),this.queryParams=x(structuredClone(We)),this.isLoadingAppend=x(!1),this.hasNextPage=Oe(()=>this.products().length!==this.metadataPagination().total)}ngOnInit(){this.getInitialData()}getInitialData(){this.productService.get(this.queryParams()).subscribe({next:({data:t,metadata:i})=>{this.products.set(t),this.metadataPagination.set(i)}})}onScroll(){this.hasNextPage()&&!this.isLoadingAppend()&&(this.queryParams.update(t=>$t(ct({},t),{skip:t.skip+10})),this.appendData())}appendData(){this.isLoadingAppend.set(!0),this.productService.get(this.queryParams()).subscribe({next:({data:t,metadata:i})=>{this.metadataPagination.set(i),this.products.set([...this.products(),...t]),this.isLoadingAppend.set(!1)}})}};e.\u0275fac=function(i){return new(i||e)(a(F))},e.\u0275cmp=w({type:e,selectors:[["app-list-product-mobile"]],decls:4,vars:1,consts:[[1,"p-10"],["scrollEnd","","scrollWindow","","itemSize","600","minBufferPx","800","maxBufferPx","1200",3,"nearEnd"],[1,"flex","flex-row","flex-wrap","gap-10"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"h-[600px]"],[3,"product"]],template:function(i,n){i&1&&(l(0,"main",0)(1,"cdk-virtual-scroll-viewport",1),D("nearEnd",function(){return n.onScroll()}),l(2,"div",2),fe(3,ur,3,1,"div",3),c()()()),i&2&&(u(3),g("cdkVirtualForOf",n.products()))},dependencies:[pi,gi,Wt,vi,ei,Ti],changeDetection:0});let r=e;return r})();var Vi=(r,e,s=P(F))=>{let t=P(ni),i=r.params.id;return s.findById(i).pipe(ut(n=>n?!0:(t.navigate(["error"]),!1)))};var hr=[{path:"",canMatch:[Fi],component:Di},{path:"",canMatch:[Mi],component:Oi},{path:"create",component:yi},{path:"update/:id",resolve:{product:Vi},component:Ii}],Ni=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({imports:[Vt.forChild(hr),Vt]});let r=e;return r})();var bs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({imports:[Xe,_i,Ni,Ye,Qe,U,ti]});let r=e;return r})();export{bs as ProductModule};
