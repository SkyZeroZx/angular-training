import{a as ze,c as Be}from"./chunk-247RBVQR.js";import{A as ei,B as Q,D as ni,b as We,c as wt,d as Ue,e as C,f as N,g as A,h as q,i as L,j as Ge,k as Y,l as $e,m as He,n as Ze,o as j,p as qe,q as Ye,r as U,s as Qe,u as Ct,v as Ke,w as Xe,x as z,y as Je,z as ti}from"./chunk-27TL64M4.js";import"./chunk-L3Q3IBXG.js";import"./chunk-WXI33M2S.js";import{a as Tt,c as Le,e as je,n as ii,p as ri,q as K,r as Ot}from"./chunk-43XV3QVV.js";import{d as et,n as Oe,o as Ve,r as Ne,s as Ae}from"./chunk-Q2VEBSZX.js";import{$ as b,A as lt,Ab as _e,B as Qt,D as dt,Db as D,E as ut,Eb as we,F as Kt,Fa as ce,Fb as Ce,Ga as T,Gb as Se,H as Xt,Ha as le,Hb as be,Ib as ye,Jb as Ee,Kb as xe,La as ft,Lb as De,M as ht,Nb as m,Pb as y,Qb as V,R as Jt,Rb as Ie,Sa as gt,Sb as Ft,T as te,Tb as Re,U as kt,V as pt,Va as u,Vb as Z,W as H,Wa as a,Wb as ke,Xb as _t,Ya as de,_ as tt,a as at,aa as R,b as Gt,ca as k,cb as O,e as $t,ea as _,eb as ue,fa as P,fb as x,g as J,ga as ee,gb as he,ha as ie,i as Ht,ib as vt,j as E,jb as pe,ka as mt,kc as Pe,l as Zt,la as w,lc as Me,m as qt,ma as M,na as W,nb as me,oa as re,p as B,pb as g,q as Yt,qb as fe,qc as Fe,r as ct,rb as ge,sc as Te,t as $,tb as ve,ua as ne,ub as Pt,va as oe,vb as Mt,wa as se,wb as l,xa as ae,xb as c,yb as f}from"./chunk-XQXIIHUT.js";var oi=(()=>{let e=class e{transform(t,i,n){if(!t||!t.length)return[];let o=(i-1)*n,d=i*n;return t.slice(o,d)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=re({name:"pagination",type:e,pure:!0,standalone:!0});let r=e;return r})();function it(r,e=0){return Ai(r)?Number(r):e}function Ai(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function si(r){return r instanceof T?r.nativeElement:r}var Vt;try{Vt=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Vt=!1}var rt=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ne(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Vt)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(_(ft))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var I=function(r){return r[r.NORMAL=0]="NORMAL",r[r.NEGATED=1]="NEGATED",r[r.INVERTED=2]="INVERTED",r}(I||{}),St,G;function ai(){if(G==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return G=!1,G;if("scrollBehavior"in document.documentElement.style)G=!0;else{let r=Element.prototype.scrollTo;r?G=!/\{\s*\[native code\]\s*\}/.test(r.toString()):G=!1}}return G}function X(){if(typeof document!="object"||!document)return I.NORMAL;if(St==null){let r=document.createElement("div"),e=r.style;r.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let s=document.createElement("div"),t=s.style;t.width="2px",t.height="1px",r.appendChild(s),document.body.appendChild(r),St=I.NORMAL,r.scrollLeft===0&&(r.scrollLeft=1,St=r.scrollLeft===0?I.NEGATED:I.INVERTED),r.remove()}return St}var ji=new k("cdk-dir-doc",{providedIn:"root",factory:zi});function zi(){return P(et)}var Bi=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Wi(r){let e=r?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Bi.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var nt=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new le,t){let i=t.body?t.body.dir:null,n=t.documentElement?t.documentElement.dir:null;this.value=Wi(i||n||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(_(ji,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Nt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({});let r=e;return r})();var At=class{};function ci(r){return r&&typeof r.connect=="function"&&!(r instanceof Ht)}var bt=class extends At{constructor(e){super(),this._data=e}connect(){return ct(this._data)?this._data:B(this._data)}disconnect(){}},ot=function(r){return r[r.REPLACED=0]="REPLACED",r[r.INSERTED=1]="INSERTED",r[r.MOVED=2]="MOVED",r[r.REMOVED=3]="REMOVED",r}(ot||{}),Lt=new k("_ViewRepeater");var yt=class{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,s,t,i,n){e.forEachOperation((o,d,p)=>{let h,v;if(o.previousIndex==null){let Rt=()=>t(o,d,p);h=this._insertView(Rt,p,s,i(o)),v=h?ot.INSERTED:ot.REPLACED}else p==null?(this._detachAndCacheView(d,s),v=ot.REMOVED):(h=this._moveView(d,p,s,i(o)),v=ot.MOVED);n&&n({context:h?.context,operation:v,record:o})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,s,t,i){let n=this._insertViewFromCache(s,t);if(n){n.context.$implicit=i;return}let o=e();return t.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(e,s){let t=s.detach(e);this._maybeCacheView(t,s)}_moveView(e,s,t,i){let n=t.get(e);return t.move(n,s),n.context.$implicit=i,n}_maybeCacheView(e,s){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let t=s.indexOf(e);t===-1?e.destroy():s.remove(t)}}_insertViewFromCache(e,s){let t=this._viewCache.pop();return t&&s.insert(t,e),t||null}};var Gi=["contentWrapper"],$i=["*"],ui=new k("VIRTUAL_SCROLL_STRATEGY"),jt=class{constructor(e,s,t){this._scrolledIndexChange=new E,this.scrolledIndexChange=this._scrolledIndexChange.pipe(ht()),this._viewport=null,this._itemSize=e,this._minBufferPx=s,this._maxBufferPx=t}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,s,t){t<s,this._itemSize=e,this._minBufferPx=s,this._maxBufferPx=t,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,s){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,s)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),s={start:e.start,end:e.end},t=this._viewport.getViewportSize(),i=this._viewport.getDataLength(),n=this._viewport.measureScrollOffset(),o=this._itemSize>0?n/this._itemSize:0;if(s.end>i){let p=Math.ceil(t/this._itemSize),h=Math.max(0,Math.min(o,i-p));o!=h&&(o=h,n=h*this._itemSize,s.start=Math.floor(o)),s.end=Math.max(0,Math.min(i,s.start+p))}let d=n-s.start*this._itemSize;if(d<this._minBufferPx&&s.start!=0){let p=Math.ceil((this._maxBufferPx-d)/this._itemSize);s.start=Math.max(0,s.start-p),s.end=Math.min(i,Math.ceil(o+(t+this._minBufferPx)/this._itemSize))}else{let p=s.end*this._itemSize-(n+t);if(p<this._minBufferPx&&s.end!=i){let h=Math.ceil((this._maxBufferPx-p)/this._itemSize);h>0&&(s.end=Math.min(i,s.end+h),s.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(s),this._viewport.setRenderedContentOffset(this._itemSize*s.start),this._scrolledIndexChange.next(Math.floor(o))}};function Hi(r){return r._scrollStrategy}var hi=(()=>{let e=class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new jt(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=it(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=it(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=it(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=W({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[V([{provide:ui,useFactory:Hi,deps:[tt(()=>e)]}]),ne]});let r=e;return r})(),Zi=20,Et=(()=>{let e=class e{constructor(t,i,n){this._ngZone=t,this._platform=i,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Zi){return this._platform.isBrowser?new J(i=>{this._globalSubscription||this._addGlobalListener();let n=t>0?this._scrolled.pipe(ut(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):B()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(dt(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let n=si(i),o=t.getElementRef().nativeElement;do if(n==o)return!0;while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return lt(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(_(O),_(rt),_(et,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),pi=(()=>{let e=class e{constructor(t,i,n,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=n,this.dir=o,this._destroyed=new E,this._elementScrolled=new J(d=>this.ngZone.runOutsideAngular(()=>lt(this.elementRef.nativeElement,"scroll").pipe(H(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=n?t.end:t.start),t.right==null&&(t.right=n?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),n&&X()!=I.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),X()==I.INVERTED?t.left=t.right:X()==I.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;ai()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",n="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let d=this.dir&&this.dir.value=="rtl";return t=="start"?t=d?n:i:t=="end"&&(t=d?i:n),d&&X()==I.INVERTED?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:d&&X()==I.NEGATED?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}};e.\u0275fac=function(i){return new(i||e)(a(T),a(Et),a(O),a(nt,8))},e.\u0275dir=W({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let r=e;return r})(),qi=20,Yi=(()=>{let e=class e{constructor(t,i,n){this._platform=t,this._change=new E,this._changeListener=o=>{this._change.next(o)},this._document=n,i.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),n=t.documentElement,o=n.getBoundingClientRect(),d=-o.top||t.body.scrollTop||i.scrollY||n.scrollTop||0,p=-o.left||t.body.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:d,left:p}}change(t=qi){return t>0?this._change.pipe(ut(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(_(rt),_(O),_(et,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})(),zt=new k("VIRTUAL_SCROLLABLE"),mi=(()=>{let e=class e extends pi{constructor(t,i,n,o){super(t,i,n,o)}measureViewportSize(t){let i=this.elementRef.nativeElement;return t==="horizontal"?i.clientWidth:i.clientHeight}};e.\u0275fac=function(i){return new(i||e)(a(T),a(Et),a(O),a(nt,8))},e.\u0275dir=W({type:e,features:[vt]});let r=e;return r})();function Qi(r,e){return r.start==e.start&&r.end==e.end}var Ki=typeof requestAnimationFrame<"u"?qt:Zt,Bt=(()=>{let e=class e extends mi{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}constructor(t,i,n,o,d,p,h,v){super(t,p,n,d),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=P(rt),this._detachedSubject=new E,this._renderedRangeSubject=new E,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new J(Rt=>this._scrollStrategy.scrolledIndexChange.subscribe(Vi=>Promise.resolve().then(()=>this.ngZone.run(()=>Rt.next(Vi))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=$t.EMPTY,this._viewportChanges=h.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(kt(null),ut(0,Ki),H(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(H(this._detachedSubject)).subscribe(i=>{let n=i.length;n!==this._dataLength&&(this._dataLength=n,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){Qi(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&i==="to-start"?0:t;let n=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",d=o?"X":"Y",h=`translate${d}(${Number((o&&n?-1:1)*t)}px)`;this._renderedContentOffset=t,i==="to-end"&&(h+=` translate${d}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){let n={behavior:i};this.orientation==="horizontal"?n.start=t:n.top=t,this.scrollable.scrollTo(n)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return this.scrollable==this?i=n=>super.measureScrollOffset(n):i=n=>this.scrollable.measureScrollOffset(n),Math.max(0,i(t??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i,n="left",o="right",d=this.dir?.value=="rtl";t=="start"?i=d?o:n:t=="end"?i=d?n:o:t?i=t:i=this.orientation==="horizontal"?"left":"top";let p=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-p}measureRenderedContentSize(){let t=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());let t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let i of t)i()}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}};e.\u0275fac=function(i){return new(i||e)(a(T),a(Pe),a(O),a(ui,8),a(nt,8),a(Et),a(Yi),a(zt,8))},e.\u0275cmp=w({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,n){if(i&1&&be(Gi,7),i&2){let o;ye(o=Ee())&&(n._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,n){i&2&&ge("cdk-virtual-scroll-orientation-horizontal",n.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",n.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[mt.HasDecoratorInputTransform,"appendOnly","appendOnly",Fe]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[V([{provide:pi,useFactory:(t,i)=>t||i,deps:[[new ie,new ee(zt)],e]}]),pe,vt,Ie],ngContentSelectors:$i,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(i,n){i&1&&(Ce(),l(0,"div",1,0),Se(2),c(),f(3,"div",2)),i&2&&(u(3),fe("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0});let r=e;return r})();function li(r,e,s){let t=s;if(!t.getBoundingClientRect)return 0;let i=t.getBoundingClientRect();return r==="horizontal"?e==="start"?i.left:i.right:e==="start"?i.top:i.bottom}var fi=(()=>{let e=class e{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,ci(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new bt(ct(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,n)=>t(i+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=it(t)}constructor(t,i,n,o,d,p){this._viewContainerRef=t,this._template=i,this._differs=n,this._viewRepeater=o,this._viewport=d,this.viewChange=new E,this._dataSourceChanges=new E,this.dataStream=this._dataSourceChanges.pipe(kt(null),Jt(),pt(([h,v])=>this._changeDataSource(h,v)),te(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new E,this.dataStream.subscribe(h=>{this._data=h,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(H(this._destroyed)).subscribe(h=>{this._renderedRange=h,this.viewChange.observers.length&&p.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(t,i){if(t.start>=t.end)return 0;t.start<this._renderedRange.start||t.end>this._renderedRange.end;let n=t.start-this._renderedRange.start,o=t.end-t.start,d,p;for(let h=0;h<o;h++){let v=this._viewContainerRef.get(h+n);if(v&&v.rootNodes.length){d=p=v.rootNodes[0];break}}for(let h=o-1;h>-1;h--){let v=this._viewContainerRef.get(h+n);if(v&&v.rootNodes.length){p=v.rootNodes[v.rootNodes.length-1];break}}return d&&p?li(i,"end",p)-li(i,"start",d):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):B()}_updateContext(){let t=this._data.length,i=this._viewContainerRef.length;for(;i--;){let n=this._viewContainerRef.get(i);n.context.index=this._renderedRange.start+i,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(o,d,p)=>this._getEmbeddedViewArgs(o,p),o=>o.item),t.forEachIdentityChange(o=>{let d=this._viewContainerRef.get(o.currentIndex);d.context.$implicit=o.item});let i=this._data.length,n=this._viewContainerRef.length;for(;n--;){let o=this._viewContainerRef.get(n);o.context.index=this._renderedRange.start+n,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(t){t.first=t.index===0,t.last=t.index===t.count-1,t.even=t.index%2===0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}};e.\u0275fac=function(i){return new(i||e)(a(ue),a(de),a(Me),a(Lt),a(Bt,4),a(O))},e.\u0275dir=W({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[V([{provide:Lt,useClass:yt}])]});let r=e;return r})();var gi=(()=>{let e=class e extends mi{constructor(t,i,n){super(new T(document.documentElement),t,i,n),this._elementScrolled=new J(o=>this.ngZone.runOutsideAngular(()=>lt(document,"scroll").pipe(H(this._destroyed)).subscribe(o)))}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}};e.\u0275fac=function(i){return new(i||e)(a(Et),a(O),a(nt,8))},e.\u0275dir=W({type:e,selectors:[["cdk-virtual-scroll-viewport","scrollWindow",""]],standalone:!0,features:[V([{provide:zt,useExisting:e}]),vt]});let r=e;return r})(),di=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({});let r=e;return r})(),vi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({imports:[Nt,di,Nt,di]});let r=e;return r})();var F=(()=>{let e=class e{constructor(t){this.http=t,this.base=`${ni.API_URL}/auth`}get(t){let i=new Tt;return i=i.set("search",t.search),i=i.set("limit",t.limit),i=i.set("skip",t.skip),this.http.get(`${this.base}/products/search`,{params:i}).pipe($(n=>({metadata:{limit:n.limit,skip:n.skip,total:n.total},data:n.products})))}create(t){return this.http.post(`${this.base}/products/add`,t)}update(t,i){return delete i.id,this.http.put(`${this.base}/products/${t}`,at({},i))}delete(t){let i=new Tt;return i=i.set("id",t),this.http.delete(`${this.base}/products`,{params:i,responseType:"text"})}findById(t){return this.http.get(`${this.base}/products/${t}`,{context:new Le().set(ze,!0)}).pipe(Kt(i=>(console.log(i.message),i?.message?.includes("Status 404")?(console.log(i.message),B(null)):Yt(()=>i))))}};e.\u0275fac=function(i){return new(i||e)(_(je))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Dt=class{static productAlreadyExist(e){return s=>Qt(200).pipe(pt(()=>e.findById(s.value.id).pipe($(t=>t?{alreadyExist:!0}:null))))}};var Ji=()=>({alreadyExist:"Ya fue registrado previamente este producto"}),tr=()=>({minlength:"Titulo requiere minimo 5 caracteres"}),It=(()=>{let e=class e{constructor(t){this.fb=t}ngOnInit(){this.initCreateForm()}initCreateForm(){this.productForm=this.fb.group({id:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.minLength(3),C.maxLength(10)]}),description:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.minLength(5),C.maxLength(255)]}),title:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.minLength(5),C.maxLength(100)]}),price:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.min(1),C.max(200)]}),category:this.fb.control(null,{nonNullable:!0,validators:[C.required,C.minLength(5),C.maxLength(100)]})})}registerOnChange(t){this.productForm.valueChanges.subscribe(t)}registerOnTouched(t){this.productForm.valueChanges.subscribe(t)}registerOnValidatorChange(t){this.productForm.valueChanges.subscribe(t)}setDisabledState(t){t?this.productForm.disable():this.productForm.enable()}writeValue(t){this.productForm.patchValue(t,{emitEvent:!1})}get invalid(){return this.productForm.invalid}validate(t){return this.productForm.valid?null:{address:!0}}};e.\u0275fac=function(i){return new(i||e)(a(j))},e.\u0275cmp=w({type:e,selectors:[["app-product-form"]],features:[V([{provide:We,useExisting:tt(()=>e),multi:!0},{provide:Ue,useExisting:tt(()=>e),multi:!0}])],decls:24,vars:5,consts:[[1,"product__form",3,"formGroup"],[1,"product__form__group"],[1,"product__form__group__input-group"],["for","id"],["type","text","placeholder","ID","formControlName","id","maxlength","10",1,"form-control",3,"customErrors"],["for","title"],["type","text","placeholder","Titulo","formControlName","title","maxlength","100",1,"form-control",3,"customErrors"],["for","description"],["type","text","placeholder","Descripci\xF3n","formControlName","description","maxlength","200",1,"form-control"],["for","logo"],["type","number","placeholder","Precio","formControlName","price",1,"form-control"],["for","date_release"],["type","text","placeholder","Categoria","formControlName","category",1,"form-control"]],template:function(i,n){i&1&&(l(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),m(4,"ID"),c(),f(5,"input",4),c(),l(6,"div",2)(7,"label",5),m(8,"Titulo"),c(),f(9,"input",6),c()(),l(10,"div",2)(11,"div",2)(12,"label",7),m(13,"Descripci\xF3n"),c(),f(14,"input",8),c(),l(15,"div",2)(16,"label",9),m(17,"Precio"),c(),f(18,"input",10),c()(),l(19,"div",2)(20,"div",2)(21,"label",11),m(22,"Categoria"),c(),f(23,"input",12),c()()()),i&2&&(g("formGroup",n.productForm),u(5),g("customErrors",Ft(3,Ji)),u(4),g("customErrors",Ft(4,tr)))},dependencies:[L,wt,Ge,N,A,Ze,$e,He,z],styles:[".product[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:4rem}.product__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.product__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.product__form__group[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2rem}.product__form__group__input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.product__form__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:2rem;gap:1rem}.product__form__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;min-height:40px;padding:.5rem}.is-loading[_ngcontent-%COMP%]{padding-right:36px;background-image:url(/assets/svg/spinner.svg);background-repeat:no-repeat;background-position:right 8px center}"],changeDetection:0});let r=e;return r})();var Si=(()=>{let e=class e{constructor(t,i,n){this.fb=t,this.productService=i,this.toastService=n,this.createProductForm=this.fb.control(null,{asyncValidators:Dt.productAlreadyExist(this.productService)})}create(){let t=this.createProductForm.getRawValue();this.productService.create(t).subscribe({next:()=>{this.toastService.success({title:"Exito",message:"Se creo nuevo producto exitosamente"})}})}};e.\u0275fac=function(i){return new(i||e)(a(j),a(F),a(Q))},e.\u0275cmp=w({type:e,selectors:[["app-create-product"]],decls:11,vars:2,consts:[[1,"create-product"],[1,"create-product__title"],[1,"w-full"],[3,"formControl"],[1,"create-product__actions"],["type","button","routerLink","/product","data-test","btn-back",1,"button--secondary"],["type","button",1,"button",3,"click","disabled"]],template:function(i,n){i&1&&(l(0,"main",0)(1,"h1",1),m(2,"Formulario de Registro"),c(),f(3,"hr",2),l(4,"form"),f(5,"app-product-form",3),c(),l(6,"div",4)(7,"button",5),m(8," Atras "),c(),l(9,"button",6),D("click",function(){return n.create()}),m(10," Enviar "),c()()()),i&2&&(u(5),g("formControl",n.createProductForm),u(4),g("disabled",n.createProductForm.invalid))},dependencies:[K,L,N,A,q,Y,z,It],styles:[".create-product[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:4rem}.create-product__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.create-product__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:2rem;gap:1rem}.create-product__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;min-height:40px;padding:.5rem}.is-loading[_ngcontent-%COMP%]{padding-right:36px;background-image:url(/assets/svg/spinner.svg);background-repeat:no-repeat;background-position:right 8px center}"],changeDetection:0});let r=e;return r})();function bi(r=200){return function(e){return e.pipe(Xt(r),ht())}}var yi=(()=>{let e=class e{constructor(){this._initialData=x([]),this.dataFilter=x([])}setInitialData(t){this._initialData.set(t)}filterData(t,i){return t?(this.dataFilter.set([...this._initialData()]),t=t.toLowerCase().trim(),this.dataFilter().filter(n=>i.some(o=>n[o]?.toString().toLowerCase()?.includes(t)))):this._initialData()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var nr=(r,e)=>e.id,or=r=>["update",r];function sr(r,e){if(r&1&&(l(0,"th",6),m(1),c()),r&2){let s=e.$implicit;u(),y(" ",s," ")}}function ar(r,e){if(r&1){let s=_e();l(0,"tr",7)(1,"td",10),f(2,"img",11),c(),l(3,"td",12),m(4),c(),l(5,"td",13),m(6),c(),l(7,"td",14),m(8),c(),l(9,"td",15),m(10),Z(11,"date"),c(),l(12,"td",16),m(13),Z(14,"date"),c(),l(15,"td",17)(16,"div",18)(17,"button",19)(18,"div",20),f(19,"span",21),l(20,"span",22),D("confirm",function(){let i=oe(s).$implicit,n=we();return se(n.confirmDelete(i.id))}),c()()()()()()}if(r&2){let s=e.$implicit;u(2),g("src",s.thumbnail,gt)("alt",s.title),u(2),y(" ",s.id," "),u(2),y(" ",s.title," "),u(2),y(" ",s.description," "),u(2),y(" ",_t(11,9,s.meta.createdAt,"YYYY/MM/dd","+0000")," "),u(3),y(" ",_t(14,13,s.meta.updatedAt,"YYYY/MM/dd","+0000")," "),u(6),g("routerLink",Re(17,or,s.id)),u(),g("message","\xBFEsta seguro de eliminar el producto "+s.title+" ?")}}var Ei=(()=>{let e=class e{constructor(t,i,n,o){this.productService=t,this.filterService=i,this.fb=n,this.toastService=o,this.filter=this.fb.control("",{nonNullable:!0}),this.listProduct=x([]),this.displayedColumns=["","","Nombre","Descripci\xF3n","Creacion","Actualizaci\xF3n",""],this.filterColumns=["id","title","description"],this.pagination=he(U),this.paginationOptions=x({limit:100,skip:0,search:""})}ngOnInit(){this.getInitialProducts(),this.onChangeFilter()}getInitialProducts(){this.productService.get(this.paginationOptions()).subscribe({next:({data:t})=>{this.filterService.setInitialData(t),this.listProduct.set(t)}})}onChangeFilter(){this.filter.valueChanges.pipe(bi()).subscribe(t=>{let i=this.filterService.filterData(t,this.filterColumns);this.listProduct.set(i),this.pagination().currentPage.set(1)})}confirmDelete(t){this.productService.delete(t).subscribe({next:()=>{this.getInitialProducts(),this.toastService.success({title:"Exito",message:"Se elimino el producto de manera exitosa"})}})}};e.\u0275fac=function(i){return new(i||e)(a(F),a(yi),a(j),a(Q))},e.\u0275cmp=w({type:e,selectors:[["app-list-product"]],viewQuery:function(i,n){i&1&&xe(n.pagination,U,5),i&2&&De()},decls:16,vars:8,consts:[[1,"p-10"],[1,"search-form"],["data-test","input-search-product","type","search","aria-label","search","placeholder","Buscar",1,"search-form__input",3,"formControl"],["type","button","routerLink","create","data-test","btn-add",1,"search-form__add","button"],[1,"icon","icon-plus"],[1,"rwd-table"],["data-test","table-column"],["tabindex","0"],[1,"product-paginator"],["firstLastButtons","",3,"pageSize","collectionSize","maxSize"],["data-th","Logo"],["height","100","width","100",3,"src","alt"],["data-th","ID"],["data-th","Nombre"],["data-th","Descripcion"],["data-th","Fecha Craci\xF3n"],["data-th","Fecha Actualizaci\xF3n"],["data-th","Acciones",1,"table-actions"],[1,"dropdown"],["tabindex","-1","data-test","btn-dropdown","type","button","aria-label","dropdown-options",1,"dropdown-button"],["data-test","dropdown-content",1,"dropdown-content"],["tabindex","0","role","button","data-test","btn-edit",1,"icon","icon-[tabler--pencil]",2,"height","1.25rem","width","1.25rem",3,"routerLink"],["tabindex","0","role","button","data-test","btn-delete","appConfirmDialog","","title","Eliminar Registro","cancelButtonText","Cancelar","confirmButtonText","Confirmar",1,"icon","icon-[tabler--letter-x]",2,"height","1.25rem","width","1.25rem",3,"confirm","message"]],template:function(i,n){if(i&1&&(l(0,"main",0)(1,"form",1),f(2,"input",2),l(3,"button",3),f(4,"span",4),m(5,"Agregar "),c()(),l(6,"table",5)(7,"tbody")(8,"tr"),Pt(9,sr,2,1,"th",6,ve),c(),Pt(11,ar,21,19,"tr",7,nr),Z(13,"pagination"),c()(),l(14,"div",8),f(15,"app-pagination",9),c()()),i&2){let o;u(2),g("formControl",n.filter),u(7),Mt(n.displayedColumns),u(2),Mt(_t(13,4,n.listProduct(),n.pagination().currentPage(),(o=n.pagination())==null?null:o.pageSize())),u(4),g("pageSize",5)("collectionSize",n.listProduct().length)("maxSize",2)}},dependencies:[Ct,K,Xe,L,wt,N,A,q,Y,U,z,Oe,oi],styles:[".search-form[_ngcontent-%COMP%]{margin:auto;width:95%;padding-bottom:2rem;min-width:30%;max-width:100%;display:flex;flex-direction:row;justify-content:space-between;gap:1rem}.search-form__input[_ngcontent-%COMP%]{width:80%}.search-form__add[_ngcontent-%COMP%]{width:20%}@media (width < 768px){.search-form[_ngcontent-%COMP%]{flex-direction:column}.search-form__input[_ngcontent-%COMP%]{width:100%}.search-form__add[_ngcontent-%COMP%]{min-height:2.25rem;width:100%}}.product-paginator[_ngcontent-%COMP%]{margin:auto;width:95%;min-width:300px;max-width:100%}"],changeDetection:0});let r=e;return r})();var xi=(()=>{let e=class e{constructor(t,i,n,o){this.activatedRoute=t,this.fb=i,this.productService=n,this.toastService=o,this.updateProductForm=this.fb.control(null),this.product=Qe(this.activatedRoute.data.pipe($(d=>d.product)))}ngOnInit(){this.initUpdateForm(this.product())}initUpdateForm(t){this.updateProductForm.setValue(t)}update(){let t=this.updateProductForm.getRawValue();this.productService.update(t.id,t).subscribe({next:()=>{this.toastService.success({title:"Exito",message:"Se actualizo exitosamente el registro"})}})}};e.\u0275fac=function(i){return new(i||e)(a(ii),a(j),a(F),a(Q))},e.\u0275cmp=w({type:e,selectors:[["app-update-product"]],decls:11,vars:2,consts:[[1,"update-product"],[1,"update-product___title"],[1,"w-full"],[3,"formControl"],[1,"update-product__actions"],["type","button","routerLink","/product","data-test","btn-back",1,"button--secondary"],["type","button",1,"button",3,"click","disabled"]],template:function(i,n){i&1&&(l(0,"main",0)(1,"h1",1),m(2,"Editar Registro"),c(),f(3,"hr",2),l(4,"form"),f(5,"app-product-form",3),c(),l(6,"div",4)(7,"button",5),m(8," Atras "),c(),l(9,"button",6),D("click",function(){return n.update()}),m(10," Actualizar "),c()()()),i&2&&(u(5),g("formControl",n.updateProductForm),u(4),g("disabled",n.updateProductForm.invalid))},dependencies:[K,L,N,A,q,Y,z,It],styles:[".update-product[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:4rem}.update-product__title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.update-product__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:2rem;gap:1rem}.update-product__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;min-height:40px;padding:.5rem}"],changeDetection:0});let r=e;return r})();var Di=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=w({type:e,selectors:[["app-product-detail"]],decls:3,vars:3,template:function(i,n){i&1&&(l(0,"div"),m(1),Z(2,"json"),c()),i&2&&(u(),y(" ",ke(2,1,n.data)," "))},dependencies:[Ve],changeDetection:0});let r=e;return r})();var Ii=new k("REQUEST"),no=new k("RESPONSE");var Ri=r=>["Android","MacIntel","Motorola","Nintendo","iPhone","iPad","iPod","Windows Phone","BlackBerry","Mobile"].some(s=>r?.includes(s));var st=(()=>{let e=class e{constructor(t,i){this.platformId=t,this.request=i,Ae(this.platformId)?this.userAgent=this.request?.headers?.["user-agent"]||"":this.userAgent=navigator.userAgent}isMobile(){return Ri(this.userAgent)}};e.\u0275fac=function(i){return new(i||e)(_(ft),_(Ii,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var ki=()=>P(st).isMobile(),Pi=()=>!P(st).isMobile();var Mi=(()=>{let e=class e{constructor(t,i){this.modalService=t,this.detectDevice=i,this.product=ce.required()}showModal(){let i=this.detectDevice.isMobile()?"bottom-sheet":"dialog";this.modalService.open(Di,{mode:i,data:this.product()})}};e.\u0275fac=function(i){return new(i||e)(a(ei),a(st))},e.\u0275cmp=w({type:e,selectors:[["app-product-item"]],inputs:{product:[mt.SignalBased,"product"]},decls:13,vars:4,consts:[["tabindex","0","role","button",1,"max-w-sm","bg-white","border","border-gray-200","rounded-lg","shadow",3,"click"],[1,"rounded-t-lg",3,"src","alt"],[1,"p-5"],[1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900"],[1,"mb-3","font-normal","text-gray-700"],["tabindex","0","role","button","role","button",1,"inline-flex","items-center","px-3","py-2","text-sm","font-medium","text-center","text-white","bg-blue-700","rounded-lg","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 10",1,"rtl:rotate-180","w-3.5","h-3.5","ms-2"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 5h12m0 0L9 1m4 4L9 9"]],template:function(i,n){i&1&&(l(0,"div",0),D("click",function(){return n.showModal()}),l(1,"div"),f(2,"img",1),c(),l(3,"div",2)(4,"div")(5,"h5",3),m(6),c()(),l(7,"p",4),m(8),c(),l(9,"div",5),D("click",function(){return n.showModal()}),m(10," Ver m\xE1s "),ae(),l(11,"svg",6),f(12,"path",7),c()()()()),i&2&&(u(2),g("src",n.product().thumbnail,gt)("alt",n.product().title),u(4),y(" ",n.product().title," "),u(2),y(" ",n.product().description," "))},dependencies:[Ct],changeDetection:0});let r=e;return r})();function lr(r,e){if(r&1&&(l(0,"div")(1,"div",4),f(2,"app-product-item",5),c()()),r&2){let s=e.$implicit;u(2),g("product",s)}}var Fi=(()=>{let e=class e{constructor(t){this.productService=t,this.products=x([]),this.metadataPagination=x(null),this.queryParams=x(structuredClone(Be)),this.isLoadingAppend=x(!1),this.hasNextPage=Te(()=>this.products().length!==this.metadataPagination().total)}ngOnInit(){this.getInitialData()}getInitialData(){this.productService.get(this.queryParams()).subscribe({next:({data:t,metadata:i})=>{this.products.set(t),this.metadataPagination.set(i)}})}onScroll(){this.hasNextPage()&&!this.isLoadingAppend()&&(this.queryParams.update(t=>Gt(at({},t),{skip:t.skip+10})),this.appendData())}appendData(){this.isLoadingAppend.set(!0),this.productService.get(this.queryParams()).subscribe({next:({data:t,metadata:i})=>{this.metadataPagination.set(i),this.products.set([...this.products(),...t]),this.isLoadingAppend.set(!1)}})}};e.\u0275fac=function(i){return new(i||e)(a(F))},e.\u0275cmp=w({type:e,selectors:[["app-list-product-mobile"]],decls:4,vars:1,consts:[[1,"p-10"],["scrollEnd","","scrollWindow","","itemSize","600","minBufferPx","800","maxBufferPx","1200",3,"nearEnd"],[1,"flex","flex-row","flex-wrap","gap-10"],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"h-[600px]"],[3,"product"]],template:function(i,n){i&1&&(l(0,"main",0)(1,"cdk-virtual-scroll-viewport",1),D("nearEnd",function(){return n.onScroll()}),l(2,"div",2),me(3,lr,3,1,"div",3),c()()()),i&2&&(u(3),g("cdkVirtualForOf",n.products()))},dependencies:[hi,fi,Bt,gi,ti,Mi],changeDetection:0});let r=e;return r})();var Ti=(r,e,s=P(F))=>{let t=P(ri),i=r.params.id;return s.findById(i).pipe(dt(n=>n?!0:(t.navigate(["error"]),!1)))};var dr=[{path:"",canMatch:[Pi],component:Ei},{path:"",canMatch:[ki],component:Fi},{path:"create",component:Si},{path:"update/:id",resolve:{product:Ti},component:xi}],Oi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({imports:[Ot.forChild(dr),Ot]});let r=e;return r})();var ws=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=M({type:e}),e.\u0275inj=R({imports:[Ke,vi,Oi,qe,Ye,U,Je]});let r=e;return r})();export{ws as ProductModule};
